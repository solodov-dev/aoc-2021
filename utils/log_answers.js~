const fs = require('fs');

async function logAnswers(day) {
  console.log(`Answers for Day ${day}`);
  day = day.padStart(2, '0');
  try {
    const { default: answers } = await import(`../day_${day}/index.js`);
    fs.readFile(
      new URL(`../day_{day}/input`, import.meta.url),
      'utf8',
      (err, data) => {
        err
          ? console.error(err)
          : answers.forEach((answer) =>
              console.log(`${answer.title}: ${answer.result(data.split('\n'))}`)
            );
      }
    );
  } catch (e) {
    console.error(e);
  }
};

const day = process.argv.slice(2);
logAnswers(day);
